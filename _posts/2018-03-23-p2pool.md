---
layout: post
title: "p2pool-axe"
date: 2018-03-23
excerpt: "Installation of decentralized mining pool"
tags: [core, linux, guide, pool, vps, mining]
comments: true
project: true
---

## Requirments
* axed >= 1.1.3
* Python >= 2.7
* Twisted >= 13.0.0
* Zope.interface >= 3.8.0

## Automatic deployment

Create user `axerunner`:
```
adduser axerunner && usermod -aG sudo axerunner
su axerunner
```
Download and prepare deployment script:
```
cd ~
git clone https://github.com/charlesrocket/p2pool-axe-deploy
nano ./p2pool-axe-deploy/p2pool.deploy.sh
```

Edit the script to match your setup:
* `PUBLIC_IP` your public IP address
* `EMAIL` your email address
* `PAYOUT_ADDRESS` your AXE wallet address to receive fees
* `USER_NAME` linux user name
* `RPCUSER` enter a random alphanumeric rpc user name
* `RPCPASSWORD` enter a random alphanumeric rpc password

Start deployment script:
```
bash ./p2pool-axe-deploy/p2pool.deploy.sh
```

<hr class="hr-line">

## Manual deployment
After installing AXE core, open ports for p2pool:
```
sudo ufw allow 7903/tcp
sudo ufw allow 8999/tcp
```

Install dependencies:

```
sudo apt-get install python-zope.interface python-twisted python-twisted-web python-dev libncurses-dev
sudo apt-get install git python-zope.interface python-twisted python-twisted-web
sudo apt-get install gcc g++
```
Install p2pool:
```
cd ~ && git clone https://github.com/AXErunners/p2pool-axe.git
cd p2pool-axe && git submodule init && git submodule update
cd axe_hash && python setup.py install --user
```
Install front-end:
```
cd ..
mv web-static web-static.old
git clone https://github.com/justino/p2pool-ui-punchy web-static
mv web-static.old web-static/legacy
cd web-static
git clone https://github.com/johndoe75/p2pool-node-status status
git clone https://github.com/hardcpp/P2PoolExtendedFrontEnd ext
```
Start p2pool:
```
python run_p2pool.py --external-ip 256.271.13.349 -f 0 --give-author 0 -a PDAze8QNvLLQE5KS6FEfedmgTgs1uMCbf8X
```
* `-f` pool fees
* `--give-author` donation
* `--external-ip` pool address

You can access p2pool's stats with `http://256.271.13.349:7903/static/`

For additional options
```
python run_p2pool.py --help
```
[source](https://github.com/AXErunners/p2pool-axe) <br />
[deployment script](https://github.com/AXErunners/p2pool-axe-deploy) <br />
